package session;

import javax.naming.Context;
import javax.naming.InitialContext;
import javax.naming.NamingException;

import com.chatapp.interfaces.Hello;

import path.JNDIPath;
import session.stateless.HelloRemote;

public class StatelessBeanTest {
	public static void main(String[] args) {
//		try {
//			Context context = new InitialContext();
//			String remoteName = JNDIPath.SESSION_PATH + "HelloBean!"
//					+ HelloRemote.class.getName();
//			System.err.println("Looking up for: " + remoteName);
//			HelloRemote hello = (HelloRemote) context.lookup(remoteName);
//			System.out.println("Server responded: " + hello.hello());
//			System.out
//					.println("Server time in millis: " + hello.getFromOther());
//
//		} catch (NamingException e) {
//			e.printStackTrace();
//		}
		
		try {
			Context context = new InitialContext();

			System.err.println("Looking up for: " + LOOKUP_STRING);
			Hello bean = (Hello)context.lookup(LOOKUP_STRING);
		      
	        System.out.println(bean.sayHello());

		} catch (NamingException e) {
			e.printStackTrace();
		}
		
	}
	private static final String LOOKUP_STRING = "ejb:ChatAppEAR/ChatAppEJB//HelloBean!"+Hello.class.getName();
}
